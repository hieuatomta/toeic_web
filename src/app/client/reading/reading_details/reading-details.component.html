<!-- Title page -->
<section class="bg-img1 txt-center p-lr-15 p-tb-92" style="margin-top: 70px;background-image: url('/toeic-web/assets/images/img_study/about.jpeg');">
  <h2 class="ltext-105 cl0 txt-center">
    Part V: Incomplete Sentences
  </h2>
</section>
<nb-card style="position: relative;margin-top: 70px;" fullWidth style="min-height: 500px;" [nbSpinner]="loading">
  <div *ngIf="historyShow; else elseBlock" class="container" style="display: grid; border: 1px solid black;">
    <nb-card-header style="padding: 20px; font-size: 16px; color: black; padding-left: 5%; padding-left: 49px !important;"
                    class="card-header-title">Question {{questionNumber + 1}}/{{listQuestion.length}}</nb-card-header>
    <nb-card-body >
      <div class="container">
        <div class="row">
          <div style="margin: auto;" class="col-sm-6">
            <nb-card-header style="padding: 20px; font-size: 16px; border-bottom: none !important; color: black !important;"
                            class="card-header-title">{{genQuestion[0]?.name}}</nb-card-header>
          </div>
        </div>

        <div class="row" style="margin-left: 0px !important;">
          <div class="col-lg-12 row">
            <div class="col-lg-10 row">
              <div class="col-sm-12 row" style="margin: 2%">
                <div class="col-sm-6">
                  <div style="padding-left: 60%">
                    <button status="{{answerDefaultCopy[0].color}}" style=" margin: 15px; width: 155px"
                            type="button" nbButton type="button" (click)="checkAnswer(genQuestion[0]?.answer, 0)">
                      {{answerDefaultCopy[0].choose}}. {{genQuestion[0]?.answerToChoose}}  </button>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div style="padding-left: 20%; padding-right: 45%;">
                    <button status="{{answerDefaultCopy[1].color}}" style=" margin: 15px; width: 155px"
                            type="button" nbButton type="button" (click)="checkAnswer(genQuestion[1]?.answer, 1)">
                      {{answerDefaultCopy[1].choose}}. {{genQuestion[1]?.answerToChoose}}  </button>
                  </div>
                </div>
              </div>
              <div class="col-sm-12 row" style="margin: 2%; margin-top: -1%">
                <div class="col-sm-6">
                  <div style="padding-left: 60%">
                    <button status="{{answerDefaultCopy[2].color}}" style=" margin: 15px; width: 155px"
                            type="button" nbButton type="button" (click)="checkAnswer(genQuestion[2]?.answer, 2)">
                      {{answerDefaultCopy[2].choose}}. {{genQuestion[2]?.answerToChoose}}  </button>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div style="padding-left: 20%; padding-right: 45%;">
                    <button status="{{answerDefaultCopy[3].color}}" style=" margin: 15px; width: 155px"
                            type="button" nbButton type="button" (click)="checkAnswer(genQuestion[3]?.answer, 3)">
                      {{answerDefaultCopy[3].choose}}. {{genQuestion[3]?.answerToChoose}}  </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-2" [hidden]="!disableButton">
              <button style="width: 100%; height: 100%; background: white;border: 0;" nbButton status="basic"
                      type="submit"
                      (click)="nextQuestion()">
                <nb-icon style="width: 40%; height: 40%;" icon="arrowhead-right-outline"></nb-icon>
              </button>
            </div>
          </div>
          <div class="col-lg-12 row" [hidden]="!disableButton" style="padding-left: 2%">
            <div class="col-lg-12" style="margin-bottom: 2%; padding-left: 0px">
              <!--              <p1 style="font-size: 16px">Description</p1>-->
              <nb-card-header style="padding: 20px; font-size: 16px; border-bottom: none !important; color: black; padding-left: 0px"
                              class="card-header-title">Description
              </nb-card-header>
            </div>
            <div style="margin: auto; border-style: solid; border-width: 1px; padding: 1%" class="col-lg-12">
              <nb-card-header style="padding: 20px; color: black"
                              class="card-header-title">{{genQuestion[0]?.transscript}}</nb-card-header>
            </div>
          </div>
        </div>
      </div>
    </nb-card-body>
  </div>
  <ng-template #elseBlock>
    <div class="container" style="display: grid; border: 1px solid black;">
      <nb-card-header style="padding: 20px; font-size: 16px" class="card-header-title">Result</nb-card-header>
      <nb-card-body>
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div>
                <table class="table table-bordered">
                  <thead class="thead-light">
                  <tr>
                    <th scope="col">No</th>
                    <th scope="col">Question Number</th>
                    <th scope="col">Result</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let item of results">
                    <th scope="row">{{item.index + 1}}</th>
                    <th>Question {{item.index + 1}}</th>
                    <td style="color: #1a34b8">{{item.result}}</td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col-lg-12">
              <div style="text-align: center;">
                <button status="primary" style=" margin: 15px; width: 155px"
                        type="button" nbButton type="button" (click)="similarExercise()">Similar exercise</button>
              </div>
            </div>
          </div>
        </div>
      </nb-card-body>
    </div>
  </ng-template>
</nb-card>
